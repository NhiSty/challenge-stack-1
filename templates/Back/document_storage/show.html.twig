{% extends 'base.html.twig' %}

{% block title %}DocumentStorage{% endblock %}


{% set separating_name_ext = document_storage.name | split('.') %}
{% set extension = separating_name_ext[1] %}


{% block body %}
    <h1>DocumentStorage</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ document_storage.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ document_storage.name }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ document_storage.description }}</td>
            </tr>
        </tbody>
    </table>



    {% if extension == 'PNG' or extension == 'JPEG' %}
        <img src="{{ vich_uploader_asset(document_storage, 'docFile') }}" alt="{{ document_storage.name }}">

    {% elseif (extension == 'pdf' or extension == 'PDF')  %}
        <a href="{{ vich_uploader_asset(document_storage, 'docFile') }}" target="_blank">Ouvrir {{ document_storage.name|split('_')[1] }}</a>

    {% else %}
        <p>Extension ni png ni jpeg ni pdf</p>

    {% endif %}

    <a href="{{ path('admin_app_document_storage_index') }}">back to list</a>

    <a href="{{ path('admin_app_document_storage_edit', {'id': document_storage.id}) }}">edit</a>

    {{ include('/Back/document_storage/_delete_form.html.twig') }}
{% endblock %}
